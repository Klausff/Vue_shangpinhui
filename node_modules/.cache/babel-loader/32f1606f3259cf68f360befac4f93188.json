{"remainingRequest":"D:\\Code\\project\\app\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\project\\app\\src\\store\\shopCart.js","dependencies":[{"path":"D:\\Code\\project\\app\\src\\store\\shopCart.js","mtime":1656997644867},{"path":"D:\\Code\\project\\app\\babel.config.js","mtime":1642509932178},{"path":"D:\\Code\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642509914891},{"path":"D:\\Code\\project\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1642509917213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxDb2RlXFxwcm9qZWN0XFxhcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlcUNhcnRMaXN0LCByZXFEZWxldGVDYXJ0QnlJZCwgcmVxVXBkYXRlQ2hlY2tlZEJ5SWQgfSBmcm9tICcuLi9hcGknOwp2YXIgc3RhdGUgPSB7CiAgY2FydExpc3Q6IFtdCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgR0VUQ0FSVExJU1Q6IGZ1bmN0aW9uIEdFVENBUlRMSVNUKHN0YXRlLCBjYXJ0TGlzdCkgewogICAgc3RhdGUuY2FydExpc3QgPSBjYXJ0TGlzdDsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGdldENhcnRMaXN0OiBmdW5jdGlvbiBnZXRDYXJ0TGlzdChfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxQ2FydExpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQoJ0dFVENBUlRMSVNUJywgcmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRlbGV0ZUNhcnRMaXN0QnlTa3VJZDogZnVuY3Rpb24gZGVsZXRlQ2FydExpc3RCeVNrdUlkKF9yZWYyLCBza3VJZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb21taXQsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZXFEZWxldGVDYXJ0QnlJZChza3VJZCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsICdvaycpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgZXJyKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIHVwZGF0ZUNoZWNrZWRCeUlkOiBmdW5jdGlvbiB1cGRhdGVDaGVja2VkQnlJZChfcmVmMywgX3JlZjQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCBza3VJZCwgaXNDaGVja2VkLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgIHNrdUlkID0gX3JlZjQuc2t1SWQsIGlzQ2hlY2tlZCA9IF9yZWY0LmlzQ2hlY2tlZDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcVVwZGF0ZUNoZWNrZWRCeUlkKHNrdUlkLCBpc0NoZWNrZWQpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IGVycignZmFpbGUnKSkpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgLy8g5Yig6Zmk5YWo6YOo5Yu+6YCJ55qE5Lqn5ZOBCiAgZGVsZXRlQWxsQ2hlY2tlZENhcnQ6IGZ1bmN0aW9uIGRlbGV0ZUFsbENoZWNrZWRDYXJ0KF9yZWY1KSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaCwKICAgICAgICBnZXR0ZXJzID0gX3JlZjUuZ2V0dGVyczsKICAgIC8vIGNvbnRleHTvvJrlsI/ku5PlupMKICAgIC8vIGNvbnNvbGUubG9nKGNvbnRleHQpCiAgICAvLyDojrflj5botK3nianovabkuK3nmoTlhajpg6jkuqflk4HvvIjmlbDnu4TvvIkKICAgIHZhciBQcm9taXNlQWxsID0gW107CiAgICBnZXR0ZXJzLmNhcnRMaXN0LmNhcnRJbmZvTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBwcm9taXNlID0gaXRlbS5pc0NoZWNrZWQgPT0gMSA/IGRpc3BhdGNoKCdkZWxldGVDYXJ0TGlzdEJ5U2t1SWQnLCBpdGVtLnNrdUlkKSA6ICcnOwogICAgICBQcm9taXNlQWxsLnB1c2gocHJvbWlzZSk7CiAgICB9KTsgLy8g6YO95oiQ5Yqf5YiZ6L+U5Zue5oiQ5Yqf77yM5pyJ5LiA5Liq5aSx6LSl5bCx6L+U5Zue5aSx6LSlCgogICAgcmV0dXJuIFByb21pc2UuYWxsKFByb21pc2VBbGwpOwogIH0sCiAgLy8g5LiA6ZSu5YWo6YCJCiAgdXBkYXRlQWxsQ2FydElzQ2hlY2tlZDogZnVuY3Rpb24gdXBkYXRlQWxsQ2FydElzQ2hlY2tlZChfcmVmNiwgaXNDaGVja2VkKSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmNi5kaXNwYXRjaCwKICAgICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlOwogICAgdmFyIHByb21pc2VBbGwgPSBbXTsKICAgIHN0YXRlLmNhcnRMaXN0WzBdLmNhcnRJbmZvTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBwcm9taXNlID0gZGlzcGF0Y2goJ3VwZGF0ZUNoZWNrZWRCeUlkJywgewogICAgICAgIHNrdUlkOiBpdGVtLnNrdUlkLAogICAgICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkCiAgICAgIH0pOwogICAgICBwcm9taXNlQWxsLnB1c2gocHJvbWlzZSk7CiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlQWxsKTsKICB9Cn07CnZhciBnZXR0ZXJzID0gewogIGNhcnRMaXN0OiBmdW5jdGlvbiBjYXJ0TGlzdChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmNhcnRMaXN0WzBdIHx8IHt9OwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["D:/Code/project/app/src/store/shopCart.js"],"names":["reqCartList","reqDeleteCartById","reqUpdateCheckedById","state","cartList","mutations","GETCARTLIST","actions","getCartList","commit","result","code","data","deleteCartListBySkuId","skuId","Promise","reject","err","updateCheckedById","isChecked","deleteAllCheckedCart","dispatch","getters","PromiseAll","cartInfoList","forEach","item","promise","push","all","updateAllCartIsChecked","promiseAll"],"mappings":"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","sourcesContent":["import {reqCartList,reqDeleteCartById,reqUpdateCheckedById} from '../api'\r\nconst state={\r\n    cartList:[]\r\n}\r\nconst mutations={\r\n    GETCARTLIST(state,cartList){\r\n        state.cartList=cartList\r\n    }\r\n}\r\nconst actions={\r\n    async getCartList({commit}){\r\n        let result = await reqCartList()\r\n        if(result.code==200){\r\n            commit('GETCARTLIST',result.data)\r\n        }\r\n    },\r\n    async deleteCartListBySkuId({commit},skuId){\r\n        let result = await reqDeleteCartById(skuId)\r\n        if(result.code==200){\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new err('faile'))\r\n        }\r\n    },\r\n    async updateCheckedById({commit},{skuId,isChecked}){\r\n        let result = await reqUpdateCheckedById(skuId,isChecked)\r\n        if(result.code==200){\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new err('faile'))\r\n        }\r\n    },\r\n    // 删除全部勾选的产品\r\n    deleteAllCheckedCart({dispatch,getters}){\r\n        // context：小仓库\r\n        // console.log(context)\r\n        // 获取购物车中的全部产品（数组）\r\n        let PromiseAll = []\r\n        getters.cartList.cartInfoList.forEach(item=>{\r\n            let promise = item.isChecked==1?dispatch('deleteCartListBySkuId',item.skuId):''\r\n            PromiseAll.push(promise)\r\n        })\r\n        // 都成功则返回成功，有一个失败就返回失败\r\n        return Promise.all(PromiseAll)\r\n    },\r\n    // 一键全选\r\n    updateAllCartIsChecked({dispatch,state},isChecked){\r\n        let promiseAll=[]\r\n        state.cartList[0].cartInfoList.forEach(item=>{\r\n            let promise = dispatch('updateCheckedById',{skuId:item.skuId,isChecked})\r\n            promiseAll.push(promise)\r\n        })\r\n        return Promise.all(promiseAll)\r\n    }\r\n}\r\nconst getters={\r\n    cartList(state){\r\n        return state.cartList[0]||{}\r\n    },\r\n}\r\nexport default{\r\n    state,mutations,actions,getters\r\n}"]}]}