{"remainingRequest":"D:\\Code\\project\\vue-shp\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\project\\vue-shp\\src\\store\\shopCart.js","dependencies":[{"path":"D:\\Code\\project\\vue-shp\\src\\store\\shopCart.js","mtime":1656997644867},{"path":"D:\\Code\\project\\vue-shp\\babel.config.js","mtime":1642509932178},{"path":"D:\\Code\\project\\vue-shp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642509914891},{"path":"D:\\Code\\project\\vue-shp\\node_modules\\babel-loader\\lib\\index.js","mtime":1642509917213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxDb2RlXFxwcm9qZWN0XFx2dWUtc2hwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZXFDYXJ0TGlzdCwgcmVxRGVsZXRlQ2FydEJ5SWQsIHJlcVVwZGF0ZUNoZWNrZWRCeUlkIH0gZnJvbSAnLi4vYXBpJzsKdmFyIHN0YXRlID0gewogIGNhcnRMaXN0OiBbXQp9Owp2YXIgbXV0YXRpb25zID0gewogIEdFVENBUlRMSVNUOiBmdW5jdGlvbiBHRVRDQVJUTElTVChzdGF0ZSwgY2FydExpc3QpIHsKICAgIHN0YXRlLmNhcnRMaXN0ID0gY2FydExpc3Q7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZXRDYXJ0TGlzdDogZnVuY3Rpb24gZ2V0Q2FydExpc3QoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcUNhcnRMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KCdHRVRDQVJUTElTVCcsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBkZWxldGVDYXJ0TGlzdEJ5U2t1SWQ6IGZ1bmN0aW9uIGRlbGV0ZUNhcnRMaXN0QnlTa3VJZChfcmVmMiwgc2t1SWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxRGVsZXRlQ2FydEJ5SWQoc2t1SWQpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IGVycignZmFpbGUnKSkpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICB1cGRhdGVDaGVja2VkQnlJZDogZnVuY3Rpb24gdXBkYXRlQ2hlY2tlZEJ5SWQoX3JlZjMsIF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgc2t1SWQsIGlzQ2hlY2tlZCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICBza3VJZCA9IF9yZWY0LnNrdUlkLCBpc0NoZWNrZWQgPSBfcmVmNC5pc0NoZWNrZWQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiByZXFVcGRhdGVDaGVja2VkQnlJZChza3VJZCwgaXNDaGVja2VkKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgJ29rJyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KG5ldyBlcnIoJ2ZhaWxlJykpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIC8vIOWIoOmZpOWFqOmDqOWLvumAieeahOS6p+WTgQogIGRlbGV0ZUFsbENoZWNrZWRDYXJ0OiBmdW5jdGlvbiBkZWxldGVBbGxDaGVja2VkQ2FydChfcmVmNSkgewogICAgdmFyIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2gsCiAgICAgICAgZ2V0dGVycyA9IF9yZWY1LmdldHRlcnM7CiAgICAvLyBjb250ZXh077ya5bCP5LuT5bqTCiAgICAvLyBjb25zb2xlLmxvZyhjb250ZXh0KQogICAgLy8g6I635Y+W6LSt54mp6L2m5Lit55qE5YWo6YOo5Lqn5ZOB77yI5pWw57uE77yJCiAgICB2YXIgUHJvbWlzZUFsbCA9IFtdOwogICAgZ2V0dGVycy5jYXJ0TGlzdC5jYXJ0SW5mb0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgcHJvbWlzZSA9IGl0ZW0uaXNDaGVja2VkID09IDEgPyBkaXNwYXRjaCgnZGVsZXRlQ2FydExpc3RCeVNrdUlkJywgaXRlbS5za3VJZCkgOiAnJzsKICAgICAgUHJvbWlzZUFsbC5wdXNoKHByb21pc2UpOwogICAgfSk7IC8vIOmDveaIkOWKn+WImei/lOWbnuaIkOWKn++8jOacieS4gOS4quWksei0peWwsei/lOWbnuWksei0pQoKICAgIHJldHVybiBQcm9taXNlLmFsbChQcm9taXNlQWxsKTsKICB9LAogIC8vIOS4gOmUruWFqOmAiQogIHVwZGF0ZUFsbENhcnRJc0NoZWNrZWQ6IGZ1bmN0aW9uIHVwZGF0ZUFsbENhcnRJc0NoZWNrZWQoX3JlZjYsIGlzQ2hlY2tlZCkgewogICAgdmFyIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2gsCiAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZTsKICAgIHZhciBwcm9taXNlQWxsID0gW107CiAgICBzdGF0ZS5jYXJ0TGlzdFswXS5jYXJ0SW5mb0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgcHJvbWlzZSA9IGRpc3BhdGNoKCd1cGRhdGVDaGVja2VkQnlJZCcsIHsKICAgICAgICBza3VJZDogaXRlbS5za3VJZCwKICAgICAgICBpc0NoZWNrZWQ6IGlzQ2hlY2tlZAogICAgICB9KTsKICAgICAgcHJvbWlzZUFsbC5wdXNoKHByb21pc2UpOwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFsbCk7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICBjYXJ0TGlzdDogZnVuY3Rpb24gY2FydExpc3Qoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jYXJ0TGlzdFswXSB8fCB7fTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["D:/Code/project/vue-shp/src/store/shopCart.js"],"names":["reqCartList","reqDeleteCartById","reqUpdateCheckedById","state","cartList","mutations","GETCARTLIST","actions","getCartList","commit","result","code","data","deleteCartListBySkuId","skuId","Promise","reject","err","updateCheckedById","isChecked","deleteAllCheckedCart","dispatch","getters","PromiseAll","cartInfoList","forEach","item","promise","push","all","updateAllCartIsChecked","promiseAll"],"mappings":"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","sourcesContent":["import {reqCartList,reqDeleteCartById,reqUpdateCheckedById} from '../api'\r\nconst state={\r\n    cartList:[]\r\n}\r\nconst mutations={\r\n    GETCARTLIST(state,cartList){\r\n        state.cartList=cartList\r\n    }\r\n}\r\nconst actions={\r\n    async getCartList({commit}){\r\n        let result = await reqCartList()\r\n        if(result.code==200){\r\n            commit('GETCARTLIST',result.data)\r\n        }\r\n    },\r\n    async deleteCartListBySkuId({commit},skuId){\r\n        let result = await reqDeleteCartById(skuId)\r\n        if(result.code==200){\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new err('faile'))\r\n        }\r\n    },\r\n    async updateCheckedById({commit},{skuId,isChecked}){\r\n        let result = await reqUpdateCheckedById(skuId,isChecked)\r\n        if(result.code==200){\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new err('faile'))\r\n        }\r\n    },\r\n    // 删除全部勾选的产品\r\n    deleteAllCheckedCart({dispatch,getters}){\r\n        // context：小仓库\r\n        // console.log(context)\r\n        // 获取购物车中的全部产品（数组）\r\n        let PromiseAll = []\r\n        getters.cartList.cartInfoList.forEach(item=>{\r\n            let promise = item.isChecked==1?dispatch('deleteCartListBySkuId',item.skuId):''\r\n            PromiseAll.push(promise)\r\n        })\r\n        // 都成功则返回成功，有一个失败就返回失败\r\n        return Promise.all(PromiseAll)\r\n    },\r\n    // 一键全选\r\n    updateAllCartIsChecked({dispatch,state},isChecked){\r\n        let promiseAll=[]\r\n        state.cartList[0].cartInfoList.forEach(item=>{\r\n            let promise = dispatch('updateCheckedById',{skuId:item.skuId,isChecked})\r\n            promiseAll.push(promise)\r\n        })\r\n        return Promise.all(promiseAll)\r\n    }\r\n}\r\nconst getters={\r\n    cartList(state){\r\n        return state.cartList[0]||{}\r\n    },\r\n}\r\nexport default{\r\n    state,mutations,actions,getters\r\n}"]}]}