{"remainingRequest":"D:\\Code\\project\\app\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\project\\app\\src\\api\\ajax.js","dependencies":[{"path":"D:\\Code\\project\\app\\src\\api\\ajax.js","mtime":1664074631192},{"path":"D:\\Code\\project\\app\\babel.config.js","mtime":1642509932178},{"path":"D:\\Code\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642509914891},{"path":"D:\\Code\\project\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1642509917213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8g5a+55LqOYXhpb3Pov5vooYzkuozmrKHlsIHoo4UKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy8g5byV5YWl6L+b5bqm5p2hL+agt+W8jwoKaW1wb3J0IG5wcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOwppbXBvcnQgIm5wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzIjsgLy8g5Zyo5b2T5YmN5qih5Z2X5rGH5oC75byV5YWlc3RvcmUKCmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7IC8vIOWIqeeUqGF4aW9z5a+56LGh55qE5pa55rOVY3JhdGXvvIzljrvliJvlu7rkuIDkuKpheGlvc+WunuS+iwovLyByZXF1ZXN05bCx5pivYXhpb3MKCnZhciByZXF1ZXN0cyA9IGF4aW9zLmNyZWF0ZSh7CiAgLy8g6YWN572u5a+56LGhCiAgLy8g5Z+656GA6Lev5b6ECiAgYmFzZVVSTDogJy9hcGknLAogIC8vIOivt+axgui2heaXtuaXtumXtOS4ujVzCiAgdGltZW91dDogNTAwMAp9KTsgLy8g6K+35rGC5oum5oiq5ZmoCgpyZXF1ZXN0cy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIGNvbmZpZ+mFjee9ruWvueixoe+8jOWFtuS4reeahGhlYWRlcuivt+axguWktOW+iOmHjeimgQogIC8vIOi/m+W6puadoeWQr+WKqAogIGlmIChzdG9yZS5zdGF0ZS5kZXRhaWwudXVpZF90b2tlbikgewogICAgY29uZmlnLmhlYWRlcnMudXNlclRlbXBJZCA9IHN0b3JlLnN0YXRlLmRldGFpbC51dWlkX3Rva2VuOwogIH0gLy8g6ZyA6KaB5pC65bimdG9rZW7nu5nmnI3liqHlmagKCgogIGlmIChzdG9yZS5zdGF0ZS51c2VyLnRva2VuKSB7CiAgICBjb25maWcuaGVhZGVycy50b2tlbiA9IHN0b3JlLnN0YXRlLnVzZXIudG9rZW47CiAgfQoKICBucHJvZ3Jlc3Muc3RhcnQoKTsKICByZXR1cm4gY29uZmlnOwp9KTsgLy8g5ZON5bqU5oum5oiq5ZmoCgpyZXF1ZXN0cy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICAvLyDlk43lupTmiJDlip/nmoTlm57osIPlh73mlbAKICAvLyDov5vluqbmnaHnu5PmnZ8KICBucHJvZ3Jlc3MuZG9uZSgpOwogIHJldHVybiByZXMuZGF0YTsKfSwgZnVuY3Rpb24gKGVycikgewogIC8vIOWTjeW6lOWksei0peeahOWbnuiwg+WHveaVsAogIGFsZXJ0KCLmnI3liqHlmajlk43lupTmlbDmja7lpLHotKXkuoYiKTsKfSk7IC8vIOWvueWkluaatOmcsgoKZXhwb3J0IGRlZmF1bHQgcmVxdWVzdHM7"},{"version":3,"sources":["D:/Code/project/app/src/api/ajax.js"],"names":["axios","nprogress","store","requests","create","baseURL","timeout","interceptors","request","use","config","state","detail","uuid_token","headers","userTempId","user","token","start","response","res","done","data","err","alert"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP,C,CACA;;AACA,OAAOC,KAAP,MAAkB,UAAlB,C,CACA;AACA;;AACA,IAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC1B;AACA;AACAC,EAAAA,OAAO,EAAC,MAHkB;AAI1B;AACAC,EAAAA,OAAO,EAAC;AALkB,CAAb,CAAjB,C,CAOA;;AACAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAACC,MAAD,EAAU;AACxC;AACA;AACA,MAAGR,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,UAAtB,EAAiC;AAC7BH,IAAAA,MAAM,CAACI,OAAP,CAAeC,UAAf,GAA4Bb,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,UAA/C;AACH,GALuC,CAMxC;;;AACA,MAAGX,KAAK,CAACS,KAAN,CAAYK,IAAZ,CAAiBC,KAApB,EAA0B;AACtBP,IAAAA,MAAM,CAACI,OAAP,CAAeG,KAAf,GAAqBf,KAAK,CAACS,KAAN,CAAYK,IAAZ,CAAiBC,KAAtC;AACH;;AACDhB,EAAAA,SAAS,CAACiB,KAAV;AACA,SAAOR,MAAP;AACH,CAZD,E,CAaA;;AACAP,QAAQ,CAACI,YAAT,CAAsBY,QAAtB,CAA+BV,GAA/B,CAAmC,UAACW,GAAD,EAAO;AACtC;AACA;AACAnB,EAAAA,SAAS,CAACoB,IAAV;AACA,SAAOD,GAAG,CAACE,IAAX;AACH,CALD,EAKE,UAACC,GAAD,EAAO;AACL;AACAC,EAAAA,KAAK,CAAC,YAAD,CAAL;AACH,CARD,E,CASA;;AACA,eAAerB,QAAf","sourcesContent":["// 对于axios进行二次封装\r\nimport axios from 'axios'\r\n// 引入进度条/样式\r\nimport nprogress from 'nprogress'\r\nimport \"nprogress/nprogress.css\"\r\n// 在当前模块汇总引入store\r\nimport store from '../store'\r\n// 利用axios对象的方法crate，去创建一个axios实例\r\n// request就是axios\r\nconst requests = axios.create({\r\n    // 配置对象\r\n    // 基础路径\r\n    baseURL:'/api',\r\n    // 请求超时时间为5s\r\n    timeout:5000,\r\n})\r\n// 请求拦截器\r\nrequests.interceptors.request.use((config)=>{\r\n    // config配置对象，其中的header请求头很重要\r\n    // 进度条启动\r\n    if(store.state.detail.uuid_token){\r\n        config.headers.userTempId = store.state.detail.uuid_token\r\n    }\r\n    // 需要携带token给服务器\r\n    if(store.state.user.token){\r\n        config.headers.token=store.state.user.token\r\n    }\r\n    nprogress.start()\r\n    return config\r\n})\r\n// 响应拦截器\r\nrequests.interceptors.response.use((res)=>{\r\n    // 响应成功的回调函数\r\n    // 进度条结束\r\n    nprogress.done()\r\n    return res.data\r\n},(err)=>{\r\n    // 响应失败的回调函数\r\n    alert(\"服务器响应数据失败了\")\r\n})\r\n// 对外暴露\r\nexport default requests"]}]}