{"remainingRequest":"D:\\Code\\project\\app\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\project\\app\\src\\store\\user.js","dependencies":[{"path":"D:\\Code\\project\\app\\src\\store\\user.js","mtime":1662970058184},{"path":"D:\\Code\\project\\app\\babel.config.js","mtime":1642509932178},{"path":"D:\\Code\\project\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642509914891},{"path":"D:\\Code\\project\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1642509917213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxDb2RlXFxwcm9qZWN0XFxhcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyI7Ci8vIOeZu+W9leS4juazqOWGjOeahOS7k+W6kwppbXBvcnQgeyByZXFHZXRDb2RlLCByZXFVc2VyUmVnaXN0ZXIsIHJlcVVzZXJMb2dpbiwgcmVxVXNlckluZm8sIHJlcUxvZ091dCB9IGZyb20gJy4uL2FwaSc7CmltcG9ydCB7IHNldFRva2VuLCBnZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICcuLi91dGlscy90b2tlbic7CnZhciBzdGF0ZSA9IHsKICBjb2RlOiAnJywKICB0b2tlbjogZ2V0VG9rZW4sCiAgdXNlckluZm86IHt9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgR0VUQ09ERTogZnVuY3Rpb24gR0VUQ09ERShzdGF0ZSwgY29kZSkgewogICAgc3RhdGUuY29kZSA9IGNvZGU7CiAgfSwKICBVU0VSTE9HSU46IGZ1bmN0aW9uIFVTRVJMT0dJTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBHRVRVU0VSSU5GTzogZnVuY3Rpb24gR0VUVVNFUklORk8oc3RhdGUsIHVzZXJJbmZvKSB7CiAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogIH0sCiAgQ0xFQVI6IGZ1bmN0aW9uIENMRUFSKHN0YXRlKSB7CiAgICAvLyDmiorku5PlupPkuK3nm7jlhbPnlKjmiLfkv6Hmga/muIXnqboKICAgIHN0YXRlLnRva2VuID0gJycsIHN0YXRlLnVzZXJJbmZvID0ge307CiAgICByZW1vdmVUb2tlbigpOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8g6I635Y+W6aqM6K+B56CBCiAgZ2V0Q29kZTogZnVuY3Rpb24gZ2V0Q29kZShfcmVmLCBwaG9uZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcUdldENvZGUocGhvbmUpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb21taXQoJ0dFVENPREUnLCByZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgJ29rJyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgLy8g55So5oi35rOo5YaMCiAgdXNlclJlZ2lzdGVyOiBmdW5jdGlvbiB1c2VyUmVnaXN0ZXIoX3JlZjIsIHVzZXIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxVXNlclJlZ2lzdGVyKHVzZXIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIC8vIOeZu+W9leS4muWKoeOAkHRva2Vu44CRCiAgdXNlckxvZ2luOiBmdW5jdGlvbiB1c2VyTG9naW4oX3JlZjMsIGRhdGEpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxVXNlckxvZ2luKGRhdGEpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb21taXQoJ1VTRVJMT0dJTicsIHJlc3VsdC5kYXRhLnRva2VuKTsgLy8g5oyB5LmF5YyW5a2Y5YKodG9rZW4KCiAgICAgICAgICAgICAgc2V0VG9rZW4ocmVzdWx0LmRhdGEudG9rZW4pOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZmFpbGUnKSkpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgLy8g6I635Y+W55So5oi35L+h5oGvCiAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKF9yZWY0LCBkYXRhKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcVVzZXJJbmZvKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8g5o+Q5Lqk55So5oi35L+h5oGvCiAgICAgICAgICAgICAgY29tbWl0KCJHRVRVU0VSSU5GTyIsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgJ29rJyk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZmFpbGUnKSkpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0sCiAgLy8g6YCA5Ye655m75b2VCiAgdXNlckxvZ091dDogZnVuY3Rpb24gdXNlckxvZ091dChfcmVmNSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgIHZhciBjb21taXQsIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiByZXFMb2dPdXQoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb21taXQoIkNMRUFSIik7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2ZhaWxlJykpKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIGdldHRlcnMgPSB7fTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["D:/Code/project/app/src/store/user.js"],"names":["reqGetCode","reqUserRegister","reqUserLogin","reqUserInfo","reqLogOut","setToken","getToken","removeToken","state","code","token","userInfo","mutations","GETCODE","USERLOGIN","GETUSERINFO","CLEAR","actions","getCode","phone","commit","result","data","Promise","reject","Error","userRegister","user","userLogin","getUserInfo","userLogOut","getters"],"mappings":"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","sourcesContent":["// 登录与注册的仓库\r\nimport {reqGetCode,reqUserRegister,reqUserLogin,reqUserInfo,reqLogOut} from '../api'\r\nimport {setToken,getToken,removeToken} from '../utils/token'\r\nconst state={\r\n    code:'',\r\n    token:getToken,\r\n    userInfo:{}\r\n}\r\nconst mutations={\r\n    GETCODE(state,code){\r\n        state.code=code\r\n    },\r\n    USERLOGIN(state,token){\r\n        state.token=token\r\n    },\r\n    GETUSERINFO(state,userInfo){\r\n        state.userInfo = userInfo\r\n    },\r\n    CLEAR(state){\r\n        // 把仓库中相关用户信息清空\r\n        state.token='',\r\n        state.userInfo={}\r\n        removeToken()\r\n    }\r\n}\r\nconst actions={\r\n    // 获取验证码\r\n    async getCode({commit},phone){\r\n        let result =await reqGetCode(phone)\r\n        if(result.code==200){\r\n            commit('GETCODE',result.data)\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    },\r\n    // 用户注册\r\n    async userRegister({commit},user){\r\n        let result = await reqUserRegister(user)\r\n        if(result.code==200){\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    },\r\n    // 登录业务【token】\r\n    async userLogin({commit},data){\r\n        let result = await reqUserLogin(data)\r\n        // 服务器下发的token是用户的唯一标识符\r\n        if(result.code==200){\r\n            commit('USERLOGIN',result.data.token)\r\n            // 持久化存储token\r\n            setToken(result.data.token)\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    } ,\r\n    // 获取用户信息\r\n    async getUserInfo({commit},data){\r\n        // 用户已经成功登录且获取到token\r\n        let result = await reqUserInfo()\r\n        if(result.code==200){\r\n            // 提交用户信息\r\n            commit(\"GETUSERINFO\",result.data)\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    },\r\n    // 退出登录\r\n    async userLogOut({commit}){\r\n        // 只是向服务器发请求通知服务器清楚token\r\n        let result = await reqLogOut()\r\n        // action里不能修改state，要提交mutation修改state\r\n        if(result.code==200){\r\n            commit(\"CLEAR\")\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    }\r\n}\r\nconst getters={}\r\nexport default{\r\n    state,\r\n    mutations,\r\n    actions,\r\n    getters\r\n}"]}]}